<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER PANE AND SELECT "VIEW IN BROWSER"-->

<html><head><title>MDI Sample: Demonstrates MDI Without Using Doc/View Architecture</title></head><body><h1>MDI Sample: Demonstrates MDI Without Using Doc/View Architecture</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p /><p>The MDI sample uses MFC's multiple-document interface (MDI) support without using the document/view architecture. </p><p>For an additional MDI sample, see MDIDOCVW.</p><p>MDI also illustrates the Microsoft Windows timer, <b>CColorDialog</b>, <b>CBitmap</b>, and changing the default cursor of a window.</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Security Note </th></tr><tr><td><p>This sample code is provided to illustrate a concept and should not be used in applications or Web sites, as it may not illustrate the safest coding practices.</p></td></tr></table></div><h1 class="heading">Building and Running the Sample</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h4 class="subHeading">To build and run the MDI sample</h4><div class="subSection"><ol><li><p>Open the solution mdi.sln. </p></li><li><p>On the <b>Build</b> menu, click <b>Build</b>. </p></li><li><p>On the <b>Debug</b> menu, click <b>Start Without Debugging</b>. </p></li></ol></div><p>The MDI sample application provides a parent window with two distinct types of MDI child windows: a Bounce window, in which a ball bounces around; and a Hello window, which displays the text "Hello, World!" You can create multiple instances of each type of window.</p><p>Click <b>New Bounce</b> or <b>New Hello</b> on the <b>File</b> menu to create a new MDI child window. Both MDI child windows determine what menus are shown when they are active. Both windows have a <b>Color</b> menu. When you choose a color from this menu, the color of the bouncing ball or of the Hello text is updated. Choose the Custom item to call a color dialog box, from which you can select a special color.</p><p>The Bounce window also has a <b>Speed</b> menu, from which you can select the speed at which the ball moves around the screen.</p><p>If you minimize the Bounce window, notice that there is not a static icon. Rather, a small ball bounces around in the icon. In contrast, the Hello window has a normal icon.</p></div><h1 class="heading">MDI Without Documents and Views</h1><div id="sectionSection1" class="seeAlsoNoToggleSection"><p>Unlike an MDI application produced by the application wizard, this sample application does not use the framework's support for documents and views. Thus, it does not use document templates; the application's <b>InitInstance</b> does not call <b>AddDocTemplate</b>.</p><p>This application nevertheless takes full advantage of the framework's MDI support. <b>CMainFrame</b> is derived from <b>CMDIFrameWnd.</b> <b>CBounceWnd</b> and <b>CHelloWnd</b> are derived from <b>CMDIChildWnd</b>. Commands on the <b>Window</b> menu, such as <b>Tile</b>, are handled by the framework's default implementation in <b>CMDIFrameWnd</b>.</p><p>Although <b>CBounceWnd</b> and <b>CHelloWnd</b> both override <b>Create</b>, the override is not necessary to take advantage of the framework's MDI support. The override of <b>Create</b> illustrates how to change the default cursor and icon of a window. Changing the default cursor or icon of a window requires registering a new <b>WNDCLASS</b> by calling <b>AFXRegisterWndClass</b> and passing the name of the <b>WNDCLASS</b> in the call to <b>Create</b>.</p></div><h1 class="heading">Keywords</h1><div id="sectionSection2" class="seeAlsoNoToggleSection"><p>This sample demonstrates the following keywords:</p><p>AfxGetInstanceHandle; AfxRegisterWndClass; CBitmap::CreateCompatibleBitmap; CCmdUI::SetCheck; CColorDialog::DoModal; CColorDialog::GetColor; CDC::BitBlt; CDC::CreateCompatibleDC; CDC::DeleteDC; CDC::DrawText; CDC::Ellipse; CDC::FillRect; CDC::GetDeviceCaps; CDC::SelectObject; CDC::SetBkColor; CDC::SetTextColor; CFrameWnd::LoadFrame; CFrameWnd::rectDefault; CGdiObject::DeleteObject; CMDIChildWnd::Create; CMenu::LoadMenu; CWinApp::InitInstance; CWnd::DestroyWindow; CWnd::GetClientRect; CWnd::GetCurrentMessage; CWnd::GetDC; CWnd::Invalidate; CWnd::KillTimer; CWnd::MessageBox; CWnd::OnCreate; CWnd::OnPaint; CWnd::OnSize; CWnd::OnTimer; CWnd::ReleaseDC; CWnd::SetTimer; CWnd::ShowWindow; CWnd::UpdateWindow; GetSysColor; LOWORD; LoadCursor; LoadIcon; MAKEINTRESOURCE; RGB; max; min</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Note </th></tr><tr><td><p>Some samples, such as this one, have not been modified to reflect the changes in the Visual C++ wizards, libraries, and compiler, but still demonstrate how to complete your desired task. </p></td></tr></table></div></div></div><div id="footer"><div class="footerLine"></div>
          © Microsoft Corporation. All rights reserved.  Send <a href="mailto:DevDocs@microsoft.com?subject=Documentation Feedback :MDI Sample: Demonstrates MDI Without Using Doc/View Architecture">comments</a> about this topic to Microsoft.
      </div></div></body></html>
